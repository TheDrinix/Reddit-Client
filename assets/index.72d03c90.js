import{d as x,u as S,r as v,o as r,c as d,w as A,v as G,a as e,b as w,e as k,n as f,t as L,f as I,g as c,F as M,h as R,i as $,j as b,k as j,l as T,$ as E,m as q,T as F,p as J,q as U}from"./vendor.5090e782.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};X();var K="/assets/cloudy-svgrepo-com.00115358.svg",W="/assets/moon-svgrepo-com.ec1963a3.svg",Q="/assets/logo.cd081365.png";const Y=["onSubmit"],Z=x({emits:["search"],setup(o,{emit:t}){const n=S(),l=v(""),s=()=>{l.value&&(t("search"),n.dispatch("subreddits/search",l.value))};return(a,i)=>(r(),d("form",{class:"md:block w-1/2 md:w-3/5 xl:w-2/5",onSubmit:w(s,["prevent"])},[A(e("input",{type:"text",name:"searchbar",placeholder:"Search for subreddits","onUpdate:modelValue":i[0]||(i[0]=h=>l.value=h),class:"rounded w-full transition-all ease-linear outline outline-1 focus:outline-2 hover:outline-2 outline-stone-400 focus:outline-pink-600 dark:outline-stone-900 dark:bg-neutral-900 dark:text-white p-2 dark:focus:outline-pink-600"},null,512),[[G,l.value]])],40,Y))}}),ee={class:"flex justify-between items-center h-16 shadow-md bg-neutral-100 dark:bg-zinc-800"},te=e("img",{class:"inline-block h-14 pl-2",src:Q,alt:"logo"},null,-1),se={class:"inline-block w-14 pr-2"},oe=["onClick"],ne=e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 384.97 384.97",style:{"enable-background":"new 0 0 384.97 384.97"},"xml:space":"preserve",class:"fill-black dark:fill-white"},[e("g",null,[e("g",{id:"Menu"},[e("path",{d:`M12.03,84.212h360.909c6.641,0,12.03-5.39,12.03-12.03c0-6.641-5.39-12.03-12.03-12.03H12.03\r
			C5.39,60.152,0,65.541,0,72.182C0,78.823,5.39,84.212,12.03,84.212z`}),e("path",{d:`M372.939,180.455H12.03c-6.641,0-12.03,5.39-12.03,12.03s5.39,12.03,12.03,12.03h360.909c6.641,0,12.03-5.39,12.03-12.03\r
			S379.58,180.455,372.939,180.455z`}),e("path",{d:`M372.939,300.758H12.03c-6.641,0-12.03,5.39-12.03,12.03c0,6.641,5.39,12.03,12.03,12.03h360.909\r
			c6.641,0,12.03-5.39,12.03-12.03C384.97,306.147,379.58,300.758,372.939,300.758z`})])])],-1),le=[ne],re=x({props:{mobileMenuOpened:{type:Boolean}},emits:["toggleMobileMenu","search"],setup(o,{emit:t}){const n=o,l=()=>{t("toggleMobileMenu")};return(s,a)=>(r(),d("header",ee,[te,k(Z,{class:f([n.mobileMenuOpened?"block":"hidden"]),onSearch:a[0]||(a[0]=i=>t("search"))},null,8,["class"]),e("div",se,[e("a",{onClick:w(l,["prevent"]),class:"removeHighlight block lg:hidden cursor-pointer"},le,8,oe)])]))}});class ae{constructor(t,n,l){this.author=t,this.content=n,this.upvotes=l}}class ie{constructor(t,n,l,s,a,i,h){this.title=t,this.dataType=n,this.numComments=l,this.upvotes=s,this.url=a,this.author=i,this.data=h}}var C;(function(o){o.Text="TEXT",o.Image="IMAGE",o.MultiImage="M-IMAGE",o.Video="VIDEO",o.NR_Video="NON-REDDIT-VIDEO"})(C||(C={}));const de=o=>o.data.children.map(l=>{const s=l.data,a=s.title,i=s.num_comments,h=s.ups,_=s.permalink,u=s.author;let m,p;if(s.selftext)m=C.Text,p=s.selftext_html;else if(s.post_hint==="image"||s.is_gallery)if(s.is_gallery)m=C.MultiImage,p=Object.values(s.media_metadata).map(g=>g.s.u);else{m=C.Image;const g=s.preview.images[0].source.url,y=g.search("&amp");y!==-1?p=g.slice(0,y+1)+g.slice(y+5):p=g}else s.post_hint==="hosted:video"?(m=C.Video,p=s.media.reddit_video.fallback_url):s.post_hint==="rich:video"?(m=C.NR_Video,s.media.oembed.html.split(" ").forEach(y=>{y.startsWith('src="')&&(p=y.slice(5,-1))})):m="empty";return new ie(a,m,i,h,_,u,p)}),ce=async o=>(await(await fetch(`https://www.reddit.com/${o}.json?raw_json=1`)).json())[1].data.children.map(({data:s})=>new ae(s.author,s.body_html,s.ups)),ue={class:"p-2 my-4 mx-2 bg-gray-200 dark:bg-neutral-900 rounded-md"},he=e("img",{src:"",alt:""},null,-1),pe=["innerHTML"],V=x({props:{comment:null,isLoading:{type:Boolean}},setup(o){return(t,n)=>(r(),d("div",ue,[e("div",null,[he,e("h3",{class:f(["font-semibold text-pink-600 text-sm",[o.isLoading?["h-4","w-1/6","bg-gray-300","dark:bg-zinc-700","rounded"]:""]])},L(o.comment.author),3)]),e("hr",{class:f(["border-gray-300 dark:border-neutral-800",{"my-1":o.isLoading}])},null,2),e("div",{innerHTML:o.comment.content,class:f(["p-2 overflow-hidden",[o.isLoading?["h-4","bg-gray-300","dark:bg-zinc-700","rounded"]:""]])},null,10,pe)]))}}),me={key:0},_e={key:1,style:{"max-height":"40vh"},class:"overflox-x-hidden overflow-y-scroll"},ge=x({props:{url:null},setup(o){const{url:t}=o;let n=v([]),l=v(!1);const s=a=>{l.value=!0,ce(a).then(i=>{l.value=!1,n.value=i})};return I(()=>{s(t)}),(a,i)=>c(l)?(r(),d("div",me,[(r(),d(M,null,R([1,2,3,4],h=>k(V,{comment:{author:"",content:"",upvotes:0},isLoading:c(l)},null,8,["isLoading"])),64))])):(r(),d("div",_e,[(r(!0),d(M,null,R(c(n),h=>(r(),$(V,{comment:h},null,8,["comment"]))),256))]))}}),ve={class:"bg-neutral-100 dark:bg-zinc-800 dark:text-white flex flex-col p-4 rounded-lg shadow-xl mb-4"},fe={class:"text-lg md:text-2xl text-center font-semibold"},be={class:"text-pink-600 text-xs text-center"},xe=e("hr",{class:"my-4 dark:border-zinc-900"},null,-1),we=["innerHTML"],ke={key:1,style:{"max-height":"70vh"},class:"flex justify-center w-full"},ye=["src"],$e={key:2,style:{"max-height":"70vh"},class:"flex w-full max-w-full"},Ce={style:{"max-height":"70vh"},class:"flex justify-center w-full max-w-full"},Se=["src"],Le={key:3},Me=["src"],Re={key:4},je=["src"],ze={key:5,class:"my-2 dark:border-zinc-900"},Te={class:"h-8 flex justify-between"},Ie={class:"flex justify-center items-center h-8"},Oe=["onClick"],Ee={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",class:"inline-block h-full w-auto"},Ve={class:"px-2 font-semibold"},Be={class:"h-8 flex justify-around items-center"},De=e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})],-1),Ne=[De],Pe={class:"font-semibold"},He=e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})],-1),Ae=[He],Ge=x({props:{title:null,dataType:null,numComments:null,upvotes:null,url:null,author:null,data:null},setup(o){const t=o;let n=v(""),l=v([]),s=v(0);const a=(m,p)=>{p==="next"?s.value+1<t.data.length&&s.value++:s.value>0&&s.value--},i=b(()=>t.data[s.value]);let h=v(!1);const _=()=>{h.value=!h.value};let u=v(0);return I(()=>{t.dataType==="M-IMAGE"?l.value=t.data:t.dataType!=="empty"&&(n.value=t.data)}),(m,p)=>(r(),d("div",ve,[e("h1",fe,L(t.title),1),e("h6",be,L(o.author),1),xe,o.dataType==="TEXT"?(r(),d("div",{key:0,innerHTML:c(n)},null,8,we)):o.dataType==="IMAGE"?(r(),d("div",ke,[e("img",{src:c(n),alt:"",class:"h-inherit block object-contain"},null,8,ye)])):o.dataType==="M-IMAGE"?(r(),d("div",$e,[e("div",{class:f(["flex relative h-inherit",{"opacity-0":1>c(s)}])},[e("button",{class:"material-icons",onClick:p[0]||(p[0]=g=>a(g,"prev"))}," arrow_back_ios ")],2),e("div",Ce,[e("img",{src:c(i),alt:"",class:"h-inherit w-auto max-w-full block object-scale-down"},null,8,Se)]),e("div",{class:f(["flex relative h-inherit",{"opacity-0":c(l).length<=c(s)+1}])},[e("button",{class:"material-icons",onClick:p[1]||(p[1]=g=>a(g,"next"))}," arrow_forward_ios ")],2)])):o.dataType==="VIDEO"?(r(),d("div",Le,[e("video",{src:c(n),controls:"",class:"w-full aspect-video"},null,8,Me)])):o.dataType==="NON-REDDIT-VIDEO"?(r(),d("div",Re,[e("iframe",{class:"w-full aspect-video",src:c(n),frameborder:"0",allow:" autoplay; clipboard-write; picture-in-picture",allowfullscreen:""},null,8,je)])):j("",!0),o.dataType!=="empty"?(r(),d("hr",ze)):j("",!0),e("div",Te,[e("div",Ie,[e("a",{onClick:w(_,["prevent"]),class:"cursor-pointer flex h-8 items-center rounded-sm hover:text-pink-600 transition-all"},[(r(),d("svg",Ee,[e("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 4H5a2 2 0 0 0-2 2v15l3.467-2.6a2 2 0 0 1 1.2-.4H19a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z",class:f([c(h)?["fill-pink-600","stroke-pink-600"]:""])},null,2)])),e("span",Ve,L(o.numComments),1)],8,Oe)]),e("div",Be,[e("a",{onClick:p[2]||(p[2]=w(g=>c(u)===1?T(u)?u.value=0:u=0:T(u)?u.value=1:u=1,["prevent"])),class:"cursor-pointer"},[(r(),d("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:f(["h-6 hover:fill-pink-700 dark:hover:fill-pink-700 transition-colors",[c(u)===1?["fill-pink-600","dark:fill-pink-600"]:["fill-black","dark:fill-white"]]]),x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},Ne,2))]),e("span",Pe,L(o.upvotes+c(u)),1),e("a",{onClick:p[3]||(p[3]=w(g=>c(u)===-1?T(u)?u.value=0:u=0:T(u)?u.value=-1:u=-1,["prevent"])),class:"cursor-pointer"},[(r(),d("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:f(["h-6 rotate-180 fill-black dark:fill-white hover:fill-pink-700 dark:hover:fill-pink-700 transition-colors",[c(u)===-1?["fill-pink-600","dark:fill-pink-600"]:["fill-black","dark:fill-white"]]]),x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},Ae,2))])])]),c(h)?(r(),$(ge,{key:6,url:o.url},null,8,["url"])):j("",!0)]))}}),qe={class:"flex flex-center py-1 w-11/12 lg:w-full"},Fe=["onClick"],Je=["src","alt"],Ue={class:"pl-2 text-lg"},Xe=["onClick"],Ke=e("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"},null,-1),We=[Ke],z=x({props:{subreddit:null,index:null,isSearchResults:{type:Boolean},hideRemove:{type:Boolean}},setup(o){const t=o,n=S(),l=()=>{t.isSearchResults?n.commit("subreddits/addSubreddit",t.subreddit):n.commit("subreddits/removeSubreddit",t.index);const a=JSON.stringify(n.state.subreddits.subreddits);localStorage.setItem("savedSubreddits",a)},s=()=>{n.dispatch("posts/loadPosts",t.subreddit)};return(a,i)=>(r(),d("div",qe,[e("a",{onClick:w(s,["prevent"]),class:f(["h-12 p-2 pr-4 w-full rounded-l-md inline-flex items-center cursor-pointer bg-gray-200 dark:bg-neutral-700 hover:bg-gray-300 dark:hover:bg-stone-700 outline outline-0 outline-neutral-200 dark:outline-neutral-600 hover:outline-2 hover:outline-pink-600 dark:hover:outline-pink-600 hover:mr-2px transition-all duration-100",{"rounded-r-md":o.hideRemove}])},[e("img",{src:t.subreddit.imgPath?t.subreddit.imgPath:"/src/assets/logo.png",alt:t.subreddit.name,class:"h-8 rounded-full inline-block"},null,8,Je),e("span",Ue,L(t.subreddit.name),1)],10,Fe),o.hideRemove?j("",!0):(r(),d("a",{key:0,onClick:w(l,["prevent"]),class:"h-12 w-12 p-2 rounded-r-md inline-flex items-center justify-center cursor-pointer bg-gray-200 dark:bg-neutral-700 hover:bg-gray-300 dark:hover:bg-stone-700 outline outline-0 outline-neutral-200 dark:outline-neutral-600 hover:outline-2 hover:outline-pink-600 dark:hover:outline-pink-600 transition-all duration-100"},[(r(),d("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:f(["bi bi-x-lg h-4 w-4",[t.isSearchResults?"rotate-45":""]])},We,2))],8,Xe))]))}}),Qe={class:"w-full bg-neutral-100 dark:bg-zinc-800 dark:text-white flex flex-col p-4 rounded-lg shadow-xl"},Ye=e("h3",{class:"text-xl"},"Subreddits",-1),Ze=e("hr",{class:"my-2 border-gray-200 dark:border-zinc-900"},null,-1),et=e("p",null,"Current subreddit:",-1),tt=e("hr",{class:"my-2 border-gray-200 dark:border-zinc-900"},null,-1),st=x({setup(o){const t=S(),n=b(()=>t.state.subreddits.subreddits),l=b(()=>t.state.posts.subreddit),s=b(()=>n.value.findIndex(i=>i.name===l.value.name)===-1);return(a,i)=>(r(),d("div",Qe,[Ye,Ze,et,k(z,{subreddit:c(l),index:0,isSearchResults:c(s),hideRemove:!c(s)},null,8,["subreddit","isSearchResults","hideRemove"]),tt,(r(!0),d(M,null,R(c(n),(h,_)=>(r(),$(z,{subreddit:h,index:_},null,8,["subreddit","index"]))),256))]))}}),ot={class:"flex flex-col items-center py-4 absolute w-full bg-zinc-100 dark:bg-neutral-800 dark:text-white z-50"},nt=e("p",{class:"text-left w-11/12"},"Current subreddit:",-1),lt=e("hr",{class:"my-2 border-gray-200 dark:border-zinc-900"},null,-1),rt=e("h3",{class:"text-xl text-left w-11/12"},"Saved subreddits:",-1),at=x({setup(o){const t=S(),n=b(()=>t.state.subreddits.subreddits),l=b(()=>t.state.posts.subreddit),s=b(()=>n.value.findIndex(i=>i.name===l.value.name)===-1);return(a,i)=>(r(),d("div",ot,[nt,k(z,{subreddit:c(l),index:0,isSearchResults:c(s),hideRemove:!c(s)},null,8,["subreddit","isSearchResults","hideRemove"]),lt,rt,(r(!0),d(M,null,R(c(n),(h,_)=>(r(),$(z,{subreddit:h,index:_},null,8,["subreddit","index"]))),256))]))}});const it={class:"fixed z-40 top-16 w-screen h-screen flex items-start justify-center bg-gray-700 dark:bg-opacity-10 bg-opacity-30 i backdrop-blur dark:backdrop-blur-xl overflow-y-scroll"},dt={class:"flex flex-col items-center justify-center w-5/6 md:w-2/3 p-4 mt-4 dark:text-white bg-neutral-100 dark:bg-neutral-900 rounded-md scrollbar"},ct=e("h2",{class:"text-xl"},"Search Results",-1),ut=e("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-x-lg h-4 w-4 hover:fill-pink-600 transition-colors duration-75"},[e("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"})],-1),ht=[ut],pt=e("hr",{class:"py-2"},null,-1),mt={key:1,class:"loader border-neutral-700 border-t-pink-600 dark:border-t-pink-600 dark:border-zinc-300"},_t=x({emits:["toggle-show"],setup(o,{emit:t}){const n=S(),l=b(()=>n.state.subreddits.searchResults),s=b(()=>n.state.subreddits.searchResultsLoading);return(a,i)=>(r(),d("div",it,[e("div",dt,[ct,e("button",{class:"absolute h-4 w-4 top-8 self-end",onClick:i[0]||(i[0]=h=>t("toggle-show"))},ht),pt,c(s)?(r(),d("div",mt)):(r(!0),d(M,{key:0},R(c(l),(h,_)=>(r(),$(z,{subreddit:h,index:_,isSearchResults:!0},null,8,["subreddit","index"]))),256))])]))}});var gt=(o,t)=>{const n=o.__vccOpts||o;for(const[l,s]of t)n[l]=s;return n};const vt={},ft={class:"bg-neutral-100 dark:bg-zinc-800 dark:text-white flex flex-col p-4 rounded-lg shadow-xl mb-4"},bt=e("div",{class:"h-8 w-full bg-gray-300 dark:bg-zinc-700 rounded-md"},null,-1),xt=e("hr",{class:"my-4 dark:border-zinc-900"},null,-1),wt=e("div",{style:{height:"40vh"},class:"flex justify-center w-full bg-gray-300 dark:bg-zinc-700 rounded-md"},null,-1),kt=e("hr",{class:"my-2 dark:border-zinc-900"},null,-1),yt={class:"h-8 flex justify-between"},$t={class:"flex justify-center items-center h-8"},Ct=e("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",class:"inline-block h-full w-auto"},[e("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 4H5a2 2 0 0 0-2 2v15l3.467-2.6a2 2 0 0 1 1.2-.4H19a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"})],-1),St=e("span",{class:"ml-2 font-semibold h-2/3 w-16 bg-gray-300 dark:bg-zinc-700 rounded"},null,-1),Lt=[Ct,St],Mt={class:"h-8 flex justify-around items-center"},Rt=e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:"h-6 fill-black dark:fill-white",x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},[e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})])],-1),jt=[Rt],zt=e("span",{class:"font-semibold h-2/3 w-16 bg-gray-300 dark:bg-zinc-700 rounded"},null,-1),Tt=e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:"h-6 rotate-180 fill-black dark:fill-white",x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},[e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})])],-1),It=[Tt];function Ot(o,t){return r(),d("div",ft,[bt,xt,wt,kt,e("div",yt,[e("div",$t,[e("a",{onClick:t[0]||(t[0]=w(()=>{},["prevent"])),class:"flex h-8 items-center"},Lt)]),e("div",Mt,[e("a",{onClick:t[1]||(t[1]=w(()=>{},["prevent"]))},jt),zt,e("a",{onClick:t[2]||(t[2]=w(()=>{},["prevent"]))},It)])])])}var O=gt(vt,[["render",Ot]]);const Et={class:"bg-stone-200 dark:bg-zinc-900 transition-colors min-h-screen overflow-x-hidden"},Vt={class:"grid grid-cols-12 gap-4 w-11/12 lg:w-10/12 2xl:w-8/12 mt-4 mx-auto font-sans"},Bt={key:0,class:"col-span-12 lg:col-span-8"},Dt={key:1,class:"col-span-12 lg:col-span-8"},Nt={class:"hidden lg:block lg:col-span-4"},Pt={class:""},Ht=x({setup(o){const t=S();I(()=>{const m=localStorage.getItem("theme");m?m==="dark"&&l():window.matchMedia("(prefers-color-scheme: dark)").matches&&l(),t.commit("subreddits/loadSavedSubreddits"),t.dispatch("posts/loadPosts",{name:"r/popular",imgPath:"src/assets/popular3x_87028.png"})});let n=v("light");const l=()=>{n.value=n.value==="dark"?"light":"dark",E("body").toggleClass("dark",n.value==="dark"),localStorage.setItem("theme",n.value)};let s=v(!1);const a=()=>{s.value=!s.value};let i=v(!1);const h=()=>{s.value=!1,i.value=!i.value,E("body").toggleClass("overflow-hidden",i.value)},_=b(()=>t.state.posts.posts),u=b(()=>t.state.posts.isLoading);return(m,p)=>(r(),d("div",Et,[k(re,{mobileMenuOpened:c(s),onToggleMobileMenu:a,onSearch:h},null,8,["mobileMenuOpened"]),k(F,{name:"fade"},{default:q(()=>[c(s)?(r(),$(at,{key:0})):j("",!0)]),_:1}),e("main",Vt,[c(u)?(r(),d("div",Bt,[k(O),k(O),k(O)])):(r(),d("div",Dt,[(r(!0),d(M,null,R(c(_),({title:g,dataType:y,numComments:B,upvotes:D,url:N,author:P,data:H})=>(r(),$(Ge,{title:g,"data-type":y,numComments:B,upvotes:D,url:N,author:P,data:H},null,8,["title","data-type","numComments","upvotes","url","author","data"]))),256))])),e("div",Nt,[k(st)])]),e("div",Pt,[c(n)==="dark"?(r(),d("img",{key:0,src:K,alt:"theme-toggle",class:"h-16 fixed bottom-4 right-4 z-50 cursor-pointer rounded-full",onClick:l})):(r(),d("img",{key:1,src:W,alt:"theme-toggle",class:"h-16 fixed bottom-4 right-4 z-50 cursor-pointer rounded-full -rotate-45",onClick:l}))]),c(i)?(r(),$(_t,{key:0,onToggleShow:h})):j("",!0)]))}}),At={namespaced:!0,state:{subreddit:{},posts:[],isLoading:!1},mutations:{loadPosts(o,t){const n=de(t);o.posts=n},saveCurrentSubbreditName(o,t){o.subreddit=t}},actions:{async loadPosts({state:o,commit:t},n){o.isLoading=!0;const s=await(await fetch(`https://www.reddit.com/${n.name}.json?raw_json=1`)).json();o.isLoading=!1,t("loadPosts",s),t("saveCurrentSubbreditName",n)}}},Gt={namespaced:!0,state:{subreddits:[{name:"r/popular",imgPath:"https://cdn.discordapp.com/attachments/616206746020610073/942139768580481054/popular3x_87028.png"}],searchResults:[],searchResultsLoading:!1},mutations:{addSubreddit(o,t){const n=o.searchResults.findIndex(l=>l.name===t.name);o.searchResults.splice(n,1),o.subreddits.push(t)},removeSubreddit(o,t){o.subreddits.splice(t,1)},loadSavedSubreddits(o){const t=localStorage.getItem("savedSubreddits");t&&(o.subreddits=JSON.parse(t))},saveSearchResults(o,t){o.searchResults=t}},actions:{async search({state:o,commit:t},n){const l=[];if(o.searchResultsLoading=!0,n){const a=await fetch(`https://www.reddit.com/subreddits/search.json?q=${n.toLowerCase()}&include_over_18=on`);if(a.ok){const h=(await a.json()).data.children.map(u=>`https://www.reddit.com${u.data.url.slice(0,-1)}/about.json`);let _;try{const u=await Promise.all(h.slice(0,10).map(m=>fetch(m)));_=await Promise.all(u.map(m=>m.json()))}catch(u){console.error(u)}if(!_)return;_.forEach((u,m)=>{l.push({name:u.data.display_name_prefixed,imgPath:u.data.icon_img})})}}o.searchResultsLoading=!1;const s=l.filter(a=>!o.subreddits.some(i=>a.name.toLowerCase()===i.name.toLowerCase()));t("saveSearchResults",s)}}};var qt=J({state:{searchTerm:""},mutations:{updateSearchTerm(o,t){o.searchTerm=t}},actions:{},modules:{posts:At,subreddits:Gt}});U(Ht).use(qt).mount("#app");
