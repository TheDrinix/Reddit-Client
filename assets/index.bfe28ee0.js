import{d as w,u as S,r as f,o as r,c,w as A,v as G,a as e,b as x,e as k,n as b,t as L,f as I,g as d,F as R,h as M,i as $,j as v,k as j,l as T,$ as E,m as U,T as q,p as F,q as J}from"./vendor.5090e782.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};X();var K="/assets/cloudy-svgrepo-com.00115358.svg",W="/assets/moon-svgrepo-com.ec1963a3.svg",Q="/assets/logo.cd081365.png";const Y=["onSubmit"],Z=w({emits:["search"],setup(o,{emit:t}){const n=S(),l=f(""),s=()=>{l.value&&(t("search"),n.dispatch("subreddits/search",l.value))};return(a,i)=>(r(),c("form",{class:"md:block w-1/2 md:w-3/5 xl:w-2/5",onSubmit:x(s,["prevent"])},[A(e("input",{type:"text",name:"searchbar",placeholder:"Search for subreddits","onUpdate:modelValue":i[0]||(i[0]=h=>l.value=h),class:"rounded w-full transition-all ease-linear outline outline-1 focus:outline-2 hover:outline-2 outline-stone-400 focus:outline-pink-600 dark:outline-stone-900 dark:bg-neutral-900 dark:text-white p-2 dark:focus:outline-pink-600"},null,512),[[G,l.value]])],40,Y))}}),ee={class:"flex justify-between items-center h-16 shadow-md bg-neutral-100 dark:bg-zinc-800"},te=e("img",{class:"inline-block h-14 pl-2",src:Q,alt:"logo"},null,-1),se={class:"inline-block w-14 pr-2"},oe=["onClick"],ne=e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 384.97 384.97",style:{"enable-background":"new 0 0 384.97 384.97"},"xml:space":"preserve",class:"fill-black dark:fill-white"},[e("g",null,[e("g",{id:"Menu"},[e("path",{d:`M12.03,84.212h360.909c6.641,0,12.03-5.39,12.03-12.03c0-6.641-5.39-12.03-12.03-12.03H12.03\r
			C5.39,60.152,0,65.541,0,72.182C0,78.823,5.39,84.212,12.03,84.212z`}),e("path",{d:`M372.939,180.455H12.03c-6.641,0-12.03,5.39-12.03,12.03s5.39,12.03,12.03,12.03h360.909c6.641,0,12.03-5.39,12.03-12.03\r
			S379.58,180.455,372.939,180.455z`}),e("path",{d:`M372.939,300.758H12.03c-6.641,0-12.03,5.39-12.03,12.03c0,6.641,5.39,12.03,12.03,12.03h360.909\r
			c6.641,0,12.03-5.39,12.03-12.03C384.97,306.147,379.58,300.758,372.939,300.758z`})])])],-1),le=[ne],re=w({props:{mobileMenuOpened:{type:Boolean}},emits:["toggleMobileMenu","search"],setup(o,{emit:t}){const n=o,l=()=>{t("toggleMobileMenu")};return(s,a)=>(r(),c("header",ee,[te,k(Z,{class:b([n.mobileMenuOpened?"block":"hidden"]),onSearch:a[0]||(a[0]=i=>t("search"))},null,8,["class"]),e("div",se,[e("a",{onClick:x(l,["prevent"]),class:"removeHighlight block lg:hidden cursor-pointer"},le,8,oe)])]))}});class ae{constructor(t,n,l){this.author=t,this.content=n,this.upvotes=l}}class ie{constructor(t,n,l,s,a,i,h){this.title=t,this.dataType=n,this.numComments=l,this.upvotes=s,this.url=a,this.author=i,this.data=h}}var C;(function(o){o.Text="TEXT",o.Image="IMAGE",o.MultiImage="M-IMAGE",o.Video="VIDEO",o.NR_Video="NON-REDDIT-VIDEO"})(C||(C={}));const de=o=>o.data.children.map(l=>{const s=l.data,a=s.title,i=s.num_comments,h=s.ups,g=s.permalink,u=s.author;let m,p;if(s.selftext)m=C.Text,p=s.selftext_html;else if(s.post_hint==="image"||s.is_gallery)if(s.is_gallery)m=C.MultiImage,p=Object.values(s.media_metadata).map(_=>_.s.u);else{m=C.Image;const _=s.preview.images[0].source.url,y=_.search("&amp");y!==-1?p=_.slice(0,y+1)+_.slice(y+5):p=_}else s.post_hint==="hosted:video"?(m=C.Video,p=s.media.reddit_video.fallback_url):s.post_hint==="rich:video"?(m=C.NR_Video,s.media.oembed.html.split(" ").forEach(y=>{y.startsWith('src="')&&(p=y.slice(5,-1))})):m="empty";return new ie(a,m,i,h,g,u,p)}),ce=async o=>(await(await fetch(`https://www.reddit.com/${o}.json?raw_json=1`)).json())[1].data.children.map(({data:s})=>new ae(s.author,s.body_html,s.ups)),ue={class:"p-2 my-4 mx-2 bg-gray-200 dark:bg-neutral-900 rounded-md"},he=e("img",{src:"",alt:""},null,-1),pe=["innerHTML"],V=w({props:{comment:null,isLoading:{type:Boolean}},setup(o){return(t,n)=>(r(),c("div",ue,[e("div",null,[he,e("h3",{class:b(["font-semibold text-pink-600 text-sm",[o.isLoading?["h-4","w-1/6","bg-gray-300","dark:bg-zinc-700","rounded"]:""]])},L(o.comment.author),3)]),e("hr",{class:b(["border-gray-300 dark:border-neutral-800",{"my-1":o.isLoading}])},null,2),e("div",{innerHTML:o.comment.content,class:b(["p-2 overflow-hidden",[o.isLoading?["h-4","bg-gray-300","dark:bg-zinc-700","rounded"]:""]])},null,10,pe)]))}}),me={key:0},ge={key:1,style:{"max-height":"40vh"},class:"overflox-x-hidden overflow-y-scroll"},_e=w({props:{url:null},setup(o){const{url:t}=o;let n=f([]),l=f(!1);const s=a=>{l.value=!0,ce(a).then(i=>{l.value=!1,n.value=i})};return I(()=>{s(t)}),(a,i)=>d(l)?(r(),c("div",me,[(r(),c(R,null,M([1,2,3,4],h=>k(V,{comment:{author:"",content:"",upvotes:0},isLoading:d(l)},null,8,["isLoading"])),64))])):(r(),c("div",ge,[(r(!0),c(R,null,M(d(n),h=>(r(),$(V,{comment:h},null,8,["comment"]))),256))]))}}),ve={class:"bg-neutral-100 dark:bg-zinc-800 dark:text-white flex flex-col p-4 rounded-lg shadow-xl mb-4"},fe={class:"text-lg md:text-2xl text-center font-semibold"},be={class:"text-pink-600 text-xs text-center"},we=e("hr",{class:"my-4 dark:border-zinc-900"},null,-1),xe=["innerHTML"],ke={key:1,style:{"max-height":"70vh"},class:"flex justify-center w-full"},ye=["src"],$e={key:2,style:{"max-height":"70vh"},class:"flex w-full max-w-full"},Ce={style:{"max-height":"70vh"},class:"flex justify-center w-full max-w-full"},Se=["src"],Le={key:3},Re=["src"],Me={key:4},je=["src"],ze={key:5,class:"my-2 dark:border-zinc-900"},Te={class:"h-8 flex justify-between"},Ie={class:"flex justify-center items-center h-8"},Oe=["onClick"],Ee={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",class:"inline-block h-full w-auto"},Ve={class:"px-2 font-semibold"},Be={class:"h-8 flex justify-around items-center"},De=e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})],-1),Pe=[De],Ne={class:"font-semibold"},He=e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})],-1),Ae=[He],Ge=w({props:{title:null,dataType:null,numComments:null,upvotes:null,url:null,author:null,data:null},setup(o){const t=o;let n=f(""),l=f([]),s=f(0);const a=(m,p)=>{p==="next"?s.value+1<t.data.length&&s.value++:s.value>0&&s.value--},i=v(()=>t.data[s.value]);let h=f(!1);const g=()=>{h.value=!h.value};let u=f(0);return I(()=>{t.dataType==="M-IMAGE"?l.value=t.data:t.dataType!=="empty"&&(n.value=t.data)}),(m,p)=>(r(),c("div",ve,[e("h1",fe,L(t.title),1),e("h6",be,L(o.author),1),we,o.dataType==="TEXT"?(r(),c("div",{key:0,innerHTML:d(n)},null,8,xe)):o.dataType==="IMAGE"?(r(),c("div",ke,[e("img",{src:d(n),alt:"",class:"h-inherit block object-contain"},null,8,ye)])):o.dataType==="M-IMAGE"?(r(),c("div",$e,[e("div",{class:b(["flex relative h-inherit",{"opacity-0":1>d(s)}])},[e("button",{class:"material-icons",onClick:p[0]||(p[0]=_=>a(_,"prev"))}," arrow_back_ios ")],2),e("div",Ce,[e("img",{src:d(i),alt:"",class:"h-inherit w-auto max-w-full block object-scale-down"},null,8,Se)]),e("div",{class:b(["flex relative h-inherit",{"opacity-0":d(l).length<=d(s)+1}])},[e("button",{class:"material-icons",onClick:p[1]||(p[1]=_=>a(_,"next"))}," arrow_forward_ios ")],2)])):o.dataType==="VIDEO"?(r(),c("div",Le,[e("video",{src:d(n),controls:"",class:"w-full aspect-video"},null,8,Re)])):o.dataType==="NON-REDDIT-VIDEO"?(r(),c("div",Me,[e("iframe",{class:"w-full aspect-video",src:d(n),frameborder:"0",allow:" autoplay; clipboard-write; picture-in-picture",allowfullscreen:""},null,8,je)])):j("",!0),o.dataType!=="empty"?(r(),c("hr",ze)):j("",!0),e("div",Te,[e("div",Ie,[e("a",{onClick:x(g,["prevent"]),class:"cursor-pointer flex h-8 items-center rounded-sm hover:text-pink-600 transition-all"},[(r(),c("svg",Ee,[e("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 4H5a2 2 0 0 0-2 2v15l3.467-2.6a2 2 0 0 1 1.2-.4H19a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z",class:b([d(h)?["fill-pink-600","stroke-pink-600"]:""])},null,2)])),e("span",Ve,L(o.numComments),1)],8,Oe)]),e("div",Be,[e("a",{onClick:p[2]||(p[2]=x(_=>d(u)===1?T(u)?u.value=0:u=0:T(u)?u.value=1:u=1,["prevent"])),class:"cursor-pointer"},[(r(),c("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:b(["h-6 hover:fill-pink-700 dark:hover:fill-pink-700 transition-colors",[d(u)===1?["fill-pink-600","dark:fill-pink-600"]:["fill-black","dark:fill-white"]]]),x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},Pe,2))]),e("span",Ne,L(o.upvotes+d(u)),1),e("a",{onClick:p[3]||(p[3]=x(_=>d(u)===-1?T(u)?u.value=0:u=0:T(u)?u.value=-1:u=-1,["prevent"])),class:"cursor-pointer"},[(r(),c("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:b(["h-6 rotate-180 fill-black dark:fill-white hover:fill-pink-700 dark:hover:fill-pink-700 transition-colors",[d(u)===-1?["fill-pink-600","dark:fill-pink-600"]:["fill-black","dark:fill-white"]]]),x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},Ae,2))])])]),d(h)?(r(),$(_e,{key:6,url:o.url},null,8,["url"])):j("",!0)]))}}),Ue={class:"flex flex-center py-1 w-11/12 lg:w-full"},qe=["onClick"],Fe=["src","alt"],Je={class:"pl-2 text-lg"},Xe=["onClick"],Ke=e("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"},null,-1),We=[Ke],z=w({props:{subreddit:null,index:null,isSearchResults:{type:Boolean},hideRemove:{type:Boolean}},setup(o){const t=o,n=S(),l=()=>{t.isSearchResults?n.commit("subreddits/addSubreddit",t.subreddit):n.commit("subreddits/removeSubreddit",t.index);const i=JSON.stringify(n.state.subreddits.subreddits);localStorage.setItem("savedSubreddits",i)},s=()=>{n.dispatch("posts/loadPosts",t.subreddit)};let a=v(()=>t.subreddit.imgPath?t.subreddit.imgPath:`${new URL("/assets/logo.cd081365.png",self.location)}`);return(i,h)=>(r(),c("div",Ue,[e("a",{onClick:x(s,["prevent"]),class:b(["h-12 p-2 pr-4 w-full rounded-l-md inline-flex items-center cursor-pointer bg-gray-200 dark:bg-neutral-700 hover:bg-gray-300 dark:hover:bg-stone-700 outline outline-0 outline-neutral-200 dark:outline-neutral-600 hover:outline-2 hover:outline-pink-600 dark:hover:outline-pink-600 hover:mr-2px transition-all duration-100",{"rounded-r-md":o.hideRemove}])},[e("img",{src:d(a),alt:t.subreddit.name,class:"h-8 rounded-full inline-block"},null,8,Fe),e("span",Je,L(t.subreddit.name),1)],10,qe),o.hideRemove?j("",!0):(r(),c("a",{key:0,onClick:x(l,["prevent"]),class:"h-12 w-12 p-2 rounded-r-md inline-flex items-center justify-center cursor-pointer bg-gray-200 dark:bg-neutral-700 hover:bg-gray-300 dark:hover:bg-stone-700 outline outline-0 outline-neutral-200 dark:outline-neutral-600 hover:outline-2 hover:outline-pink-600 dark:hover:outline-pink-600 transition-all duration-100"},[(r(),c("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:b(["bi bi-x-lg h-4 w-4",[t.isSearchResults?"rotate-45":""]])},We,2))],8,Xe))]))}}),Qe={class:"w-full bg-neutral-100 dark:bg-zinc-800 dark:text-white flex flex-col p-4 rounded-lg shadow-xl"},Ye=e("h3",{class:"text-xl"},"Subreddits",-1),Ze=e("hr",{class:"my-2 border-gray-200 dark:border-zinc-900"},null,-1),et=e("p",null,"Current subreddit:",-1),tt=e("hr",{class:"my-2 border-gray-200 dark:border-zinc-900"},null,-1),st=w({setup(o){const t=S(),n=v(()=>t.state.subreddits.subreddits),l=v(()=>t.state.posts.subreddit),s=v(()=>n.value.findIndex(i=>i.name===l.value.name)===-1);return(a,i)=>(r(),c("div",Qe,[Ye,Ze,et,k(z,{subreddit:d(l),index:0,isSearchResults:d(s),hideRemove:!d(s)},null,8,["subreddit","isSearchResults","hideRemove"]),tt,(r(!0),c(R,null,M(d(n),(h,g)=>(r(),$(z,{subreddit:h,index:g},null,8,["subreddit","index"]))),256))]))}}),ot={class:"flex flex-col items-center py-4 absolute w-full bg-zinc-100 dark:bg-neutral-800 dark:text-white z-50"},nt=e("p",{class:"text-left w-11/12"},"Current subreddit:",-1),lt=e("hr",{class:"my-2 border-gray-200 dark:border-zinc-900"},null,-1),rt=e("h3",{class:"text-xl text-left w-11/12"},"Saved subreddits:",-1),at=w({setup(o){const t=S(),n=v(()=>t.state.subreddits.subreddits),l=v(()=>t.state.posts.subreddit),s=v(()=>n.value.findIndex(i=>i.name===l.value.name)===-1);return(a,i)=>(r(),c("div",ot,[nt,k(z,{subreddit:d(l),index:0,isSearchResults:d(s),hideRemove:!d(s)},null,8,["subreddit","isSearchResults","hideRemove"]),lt,rt,(r(!0),c(R,null,M(d(n),(h,g)=>(r(),$(z,{subreddit:h,index:g},null,8,["subreddit","index"]))),256))]))}});const it={class:"fixed z-40 top-16 w-screen h-screen flex items-start justify-center bg-gray-700 dark:bg-opacity-10 bg-opacity-30 i backdrop-blur dark:backdrop-blur-xl overflow-y-scroll"},dt={class:"flex flex-col items-center justify-center w-5/6 md:w-2/3 p-4 mt-4 dark:text-white bg-neutral-100 dark:bg-neutral-900 rounded-md scrollbar"},ct=e("h2",{class:"text-xl"},"Search Results",-1),ut=e("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-x-lg h-4 w-4 hover:fill-pink-600 transition-colors duration-75"},[e("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"})],-1),ht=[ut],pt=e("hr",{class:"py-2"},null,-1),mt={key:1,class:"loader border-neutral-700 border-t-pink-600 dark:border-t-pink-600 dark:border-zinc-300"},gt=w({emits:["toggle-show"],setup(o,{emit:t}){const n=S(),l=v(()=>n.state.subreddits.searchResults),s=v(()=>n.state.subreddits.searchResultsLoading);return(a,i)=>(r(),c("div",it,[e("div",dt,[ct,e("button",{class:"absolute h-4 w-4 top-8 self-end",onClick:i[0]||(i[0]=h=>t("toggle-show"))},ht),pt,d(s)?(r(),c("div",mt)):(r(!0),c(R,{key:0},M(d(l),(h,g)=>(r(),$(z,{subreddit:h,index:g,isSearchResults:!0},null,8,["subreddit","index"]))),256))])]))}});var _t=(o,t)=>{const n=o.__vccOpts||o;for(const[l,s]of t)n[l]=s;return n};const vt={},ft={class:"bg-neutral-100 dark:bg-zinc-800 dark:text-white flex flex-col p-4 rounded-lg shadow-xl mb-4"},bt=e("div",{class:"h-8 w-full bg-gray-300 dark:bg-zinc-700 rounded-md"},null,-1),wt=e("hr",{class:"my-4 dark:border-zinc-900"},null,-1),xt=e("div",{style:{height:"40vh"},class:"flex justify-center w-full bg-gray-300 dark:bg-zinc-700 rounded-md"},null,-1),kt=e("hr",{class:"my-2 dark:border-zinc-900"},null,-1),yt={class:"h-8 flex justify-between"},$t={class:"flex justify-center items-center h-8"},Ct=e("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",class:"inline-block h-full w-auto"},[e("path",{fill:"currentColor",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 4H5a2 2 0 0 0-2 2v15l3.467-2.6a2 2 0 0 1 1.2-.4H19a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"})],-1),St=e("span",{class:"ml-2 font-semibold h-2/3 w-16 bg-gray-300 dark:bg-zinc-700 rounded"},null,-1),Lt=[Ct,St],Rt={class:"h-8 flex justify-around items-center"},Mt=e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:"h-6 fill-black dark:fill-white",x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},[e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})])],-1),jt=[Mt],zt=e("span",{class:"font-semibold h-2/3 w-16 bg-gray-300 dark:bg-zinc-700 rounded"},null,-1),Tt=e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:"h-6 rotate-180 fill-black dark:fill-white",x:"0px",y:"0px",viewBox:"0 0 50.454 50.454",style:{"enable-background":"new 0 0 50.454 50.454"},"xml:space":"preserve"},[e("g",null,[e("path",{d:`M42.359,25.479L27.122,1.25c-1.048-1.667-2.747-1.667-3.795,0L8.095,25.479\r
		c-1.048,1.667-0.316,2.801,1.635,2.532l5.43-0.885c1.95-0.269,3.531,1.11,3.531,3.079v16.683c0,1.969,1.596,3.566,3.565,3.566\r
		h5.935c1.97,0,3.566-1.596,3.566-3.566V30.206c0-1.969,1.582-3.348,3.531-3.079l5.436,0.885\r
		C42.674,28.28,43.407,27.146,42.359,25.479z`})])],-1),It=[Tt];function Ot(o,t){return r(),c("div",ft,[bt,wt,xt,kt,e("div",yt,[e("div",$t,[e("a",{onClick:t[0]||(t[0]=x(()=>{},["prevent"])),class:"flex h-8 items-center"},Lt)]),e("div",Rt,[e("a",{onClick:t[1]||(t[1]=x(()=>{},["prevent"]))},jt),zt,e("a",{onClick:t[2]||(t[2]=x(()=>{},["prevent"]))},It)])])])}var O=_t(vt,[["render",Ot]]);const Et={class:"bg-stone-200 dark:bg-zinc-900 transition-colors min-h-screen overflow-x-hidden"},Vt={class:"grid grid-cols-12 gap-4 w-11/12 lg:w-10/12 2xl:w-8/12 mt-4 mx-auto font-sans"},Bt={key:0,class:"col-span-12 lg:col-span-8"},Dt={key:1,class:"col-span-12 lg:col-span-8"},Pt={class:"hidden lg:block lg:col-span-4"},Nt={class:""},Ht=w({setup(o){const t=S();I(()=>{const m=localStorage.getItem("theme");m?m==="dark"&&l():window.matchMedia("(prefers-color-scheme: dark)").matches&&l(),t.commit("subreddits/loadSavedSubreddits"),t.dispatch("posts/loadPosts",{name:"r/popular",imgPath:new URL("/assets/popular3x_87028.0562a303.png",self.location)})});let n=f("light");const l=()=>{n.value=n.value==="dark"?"light":"dark",E("body").toggleClass("dark",n.value==="dark"),localStorage.setItem("theme",n.value)};let s=f(!1);const a=()=>{s.value=!s.value};let i=f(!1);const h=()=>{s.value=!1,i.value=!i.value,E("body").toggleClass("overflow-hidden",i.value)},g=v(()=>t.state.posts.posts),u=v(()=>t.state.posts.isLoading);return(m,p)=>(r(),c("div",Et,[k(re,{mobileMenuOpened:d(s),onToggleMobileMenu:a,onSearch:h},null,8,["mobileMenuOpened"]),k(q,{name:"fade"},{default:U(()=>[d(s)?(r(),$(at,{key:0})):j("",!0)]),_:1}),e("main",Vt,[d(u)?(r(),c("div",Bt,[k(O),k(O),k(O)])):(r(),c("div",Dt,[(r(!0),c(R,null,M(d(g),({title:_,dataType:y,numComments:B,upvotes:D,url:P,author:N,data:H})=>(r(),$(Ge,{title:_,"data-type":y,numComments:B,upvotes:D,url:P,author:N,data:H},null,8,["title","data-type","numComments","upvotes","url","author","data"]))),256))])),e("div",Pt,[k(st)])]),e("div",Nt,[d(n)==="dark"?(r(),c("img",{key:0,src:K,alt:"theme-toggle",class:"h-16 fixed bottom-4 right-4 z-50 cursor-pointer rounded-full",onClick:l})):(r(),c("img",{key:1,src:W,alt:"theme-toggle",class:"h-16 fixed bottom-4 right-4 z-50 cursor-pointer rounded-full -rotate-45",onClick:l}))]),d(i)?(r(),$(gt,{key:0,onToggleShow:h})):j("",!0)]))}}),At={namespaced:!0,state:{subreddit:{},posts:[],isLoading:!1},mutations:{loadPosts(o,t){const n=de(t);o.posts=n},saveCurrentSubbreditName(o,t){o.subreddit=t}},actions:{async loadPosts({state:o,commit:t},n){o.isLoading=!0;const s=await(await fetch(`https://www.reddit.com/${n.name}.json?raw_json=1`)).json();o.isLoading=!1,t("loadPosts",s),t("saveCurrentSubbreditName",n)}}},Gt={namespaced:!0,state:{subreddits:[{name:"r/popular",imgPath:new URL("/assets/popular3x_87028.0562a303.png",self.location)}],searchResults:[],searchResultsLoading:!1},mutations:{addSubreddit(o,t){const n=o.searchResults.findIndex(l=>l.name===t.name);o.searchResults.splice(n,1),o.subreddits.push(t)},removeSubreddit(o,t){o.subreddits.splice(t,1)},loadSavedSubreddits(o){const t=localStorage.getItem("savedSubreddits");t&&(o.subreddits=JSON.parse(t))},saveSearchResults(o,t){o.searchResults=t}},actions:{async search({state:o,commit:t},n){const l=[];if(o.searchResultsLoading=!0,n){const a=await fetch(`https://www.reddit.com/subreddits/search.json?q=${n.toLowerCase()}&include_over_18=on`);if(a.ok){const h=(await a.json()).data.children.map(u=>`https://www.reddit.com${u.data.url.slice(0,-1)}/about.json`);let g;try{const u=await Promise.all(h.slice(0,10).map(m=>fetch(m)));g=await Promise.all(u.map(m=>m.json()))}catch(u){console.error(u)}if(!g)return;g.forEach((u,m)=>{l.push({name:u.data.display_name_prefixed,imgPath:u.data.icon_img})})}}o.searchResultsLoading=!1;const s=l.filter(a=>!o.subreddits.some(i=>a.name.toLowerCase()===i.name.toLowerCase()));t("saveSearchResults",s)}}};var Ut=F({state:{searchTerm:""},mutations:{updateSearchTerm(o,t){o.searchTerm=t}},actions:{},modules:{posts:At,subreddits:Gt}});J(Ht).use(Ut).mount("#app");
